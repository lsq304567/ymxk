<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!--用户网页的可视区域-->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
  <meta name="keywords" content="为搜索引擎定义关键字">
  <meta name="description" content="定义描述内容">
  <meta name="author" content="没有锅的麻辣香锅">
  <!--每30秒钟刷新当前页面-->
  <!-- <meta http-equiv="refresh" content="30"> -->
  <link rel="icon" href="https://v3.bootcss.com/favicon.ico">
  <title>首页</title>
  <base href="" target="_blank">

  <!-- Bootstrap CSS -->
  <!-- <link rel="stylesheet" href="css/bootstrap.min.css"> -->
  <link rel="stylesheet" href="css/lib/mui.min.css">
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/common.css">
  <link rel="stylesheet" href="css/page.css">
  <link rel="stylesheet" href="css/test.css">

  <!-- HTML5 shim 和 Respond.js 是为了让 IE8 支持 HTML5 元素和媒体查询（media queries）功能 -->
  <!-- 警告：通过 file:// 协议（就是直接将 html 页面拖拽到浏览器中）访问页面时 Respond.js 不起作用 -->
  <!--[if lt IE 9]>
          <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
          <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]-->
</head>

<body>
  <!-- header start-->
  <header id="header" style="border:1px solid green;">
    <section id="title">
      <h1>页面标题</h1>
      <h2>副标题</h2>
    </section>
    <nav class="menu">
      <ul>
        <li class="choice1"><a href="#">页面菜单导航栏</a></li>
        <li class="choice2"><a href="#">Books</a></li>
        <li class="choice3"><a href="#">Resources</a></li>
        <li class="choice4"><a href="#">Bookshelf</a></li>
        <li class="choice5"><a href="#">Contact Me</a></li>
      </ul>
    </nav>
    <form class="search" action="#" method="post">
      <label for="user_name">search</label> <!-- 标注的for属性与文本框ID相同 -->
      <input type="text" id="user_name" name="user_name" placeholder="search" />
    </form>
  </header>
  <!-- header end -->
  <!-- main start-->
  <main style="border:1px solid red;">
    代表的主导内容的文件的。主要内容区域包括与文档的中心主题直接相关或扩展的内容，或应用程序的中心功能
    <div id="main" class="p30" style="background-color: yellowgreen;">
    </div>
  </main>
  <!-- main end -->

  <!-- footer start -->
  <footer id="footer" style="border:1px solid yellow;">
    &copy; 2019, Starbuzz Coffee
    <br> All trademarks and registered trademarks appearing on this site are the property of their respective owners.
  </footer>
  <!-- footer end -->


  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <!-- <script src="js/jquery.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script> -->
  <script src="js/lib/mui.min.js"></script>
  <script>
    var dateUtils = {
      UNITS: {
        '年': 31557600000,
        '月': 2629800000,
        '天': 86400000,
        '小时': 3600000,
        '分钟': 60000,
        '秒': 1000
      },
      humanize: function (milliseconds) {
        var humanize = '';
        mui.each(this.UNITS, function (unit, value) {
          if (milliseconds >= value) {
            humanize = Math.floor(milliseconds / value) + unit + '前';
            return false;
          }
          return true;
        });
        return humanize || '刚刚';
      },
      format: function (dateStr) {
        var date = this.parse(dateStr)
        var diff = Date.now() - date.getTime();
        if (diff < this.UNITS['天']) {
          return this.humanize(diff);
        }

        var _format = function (number) {
          return (number < 10 ? ('0' + number) : number);
        };
        return date.getFullYear() + '/' + _format(date.getMonth() + 1) + '/' + _format(date.getDay()) + '-' +
          _format(date.getHours()) + ':' + _format(date.getMinutes());
      },
      parse: function (str) { //将"yyyy-mm-dd HH:MM:ss"格式的字符串，转化为一个Date对象
        var a = str.split(/[^0-9]/);
        return new Date(a[0], a[1] - 1, a[2], a[3], a[4], a[5]);
      }
    };
    var timeStr = "2015-01-05T15:57:49";
    console.log(timeStr);
    console.log(dateUtils.format(timeStr));
    console.log(dateUtils.humanize(dateUtils.parse(timeStr)));


    var sta_str  = timeStr.replace(/-/g, "/").replace("T", " ");
    var sta_date = new Date(sta_str);
    var end_date = new Date();
    var sta_m= Date.parse(sta_date);
    var end_m=Date.parse(end_date);
    var center_m=end_m-sta_m;

    console.log(dateUtils.humanize(end_m-sta_m));

    // var num = (end_date - sta_date) / (1000 * 3600 * 24); //求出两个时间的时间差，这个是天数
    // var days = parseInt(Math.floor(num)); //转化为整天（小于零的话剧不用转了）
    // console.log(days);
    // var d = Date.parse(sta_date);

    // console.log(strMiao)
  </script>
</body>

</html>